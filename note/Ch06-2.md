<aside>
ğŸ’¡ê¸°ìˆ  ë¸”ë¡œê·¸ ë§í¬ : https://gold-pumpkin.tistory.com/44
</aside>

<details>
<summary>ê°œë… ì •ë¦¬</summary>
<div markdown="1">
### **6.4 ë¸”ë¡œê·¸ ê¸€ ëª©ë¡ ì¡°íšŒë¥¼ ìœ„í•œ API êµ¬í˜„í•˜ê¸°**

- stream ì€ ì—¬ëŸ¬ ë°ì´í„°ê°€ ëª¨ì—¬ ìˆëŠ” ì»¬ë ‰ì…˜ì„ ê°„í¸í•˜ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ìë°” 8ì—ì„œ ì¶”ê°€ëœ ê¸°ëŠ¥ì´ë‹¤.
- í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ importì— ì£¼ì˜í•œë‹¤.(ì¸í…”ë¦¬ì œì´ì—ì„œ ìë™ importë¥¼ í–ˆì„ ë•Œ ì˜ëª»ëœ íŒŒì¼ì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. )

  `import.static.org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;`


### ** 6.5 ë¸”ë¡œê·¸ ê¸€ ì¡°íšŒ API êµ¬í˜„í•˜ê¸°**

**@PathVariable**Â : URLì—ì„œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ì• ë„ˆí…Œì´ì…˜.

```java
// ë¸”ë¡œê·¸ ê¸€ í•˜ë‚˜ ì¡°íšŒ@GetMapping("/api/articles/{id}")
// URL ê²½ë¡œì—ì„œ ê°’ ì¶”ì¶œpublic ResponseEntity<ArticleResponse> findArticle(@PathVariable long id){
        Article article = blogService.findById(id);

        return ResponseEntity.ok()
                .body(new ArticleResponse(article));
    }
```

> ìœ„ì˜ ì½”ë“œì—ì„œ ë§Œì•½ URL ì£¼ì†Œê°€ /api/articles/3 GET ìš”ì²­ì„ ë°›ìœ¼ë©´ id ê°’ìœ¼ë¡œ 3ì´ ë“¤ì–´ì˜¨ë‹¤.
>

### **6.6 ë¸”ë¡œê·¸ ê¸€ ì‚­ì œ API êµ¬í˜„í•˜ê¸°**

- ì‚­ì œ API ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ, ë‹¤ìŒì˜ ë°©ì‹ì„ ì´ìš©í•œë‹¤.
    - ë¸”ë¡œê·¸ ê¸€ í•˜ë‚˜ ìƒì„±í•¨.
    - ì‚­ì œ API í˜¸ì¶œ.
    - ë¸”ë¡œê·¸ ê¸€ ì „ì²´ ì¡°íšŒí–ˆì„ ë•Œ 0ê°œê°€ ì¡°íšŒë˜ë©°, ìƒíƒœì½”ë“œê°€ 200 OK ì¸ì§€ í™•ì¸í•œë‹¤.

### **6.7 ë¸”ë¡œê·¸ ê¸€ ìˆ˜ì • API êµ¬í˜„í•˜ê¸°**

**@Transactional**Â : ë§¤ì¹­í•œ ë©”ì„œë“œë¥¼ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ìŒ.

> íŠ¸ëœì­ì…˜
>
>
> **ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ ë°”ê¾¸ê¸° ìœ„í•´ ë¬¶ì€ ì‘ì—…ì˜ ë‹¨ìœ„.**
>
> ì˜ˆë¥¼ ë“¤ì–´ ê³„ì¢Œ ì´ì²´ë¥¼ í•  ë•Œì—ëŠ” 1. Aê³„ì¢Œì—ì„œ ì¶œê¸ˆ , 2. Bê³„ì¢Œì— ì…ê¸ˆ  ì´ë¼ëŠ” ë‘ ê³¼ì •ì„ ê±°ì¹  ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° ë§Œì•½ 1ì˜ ê³¼ì •ì€ ì„±ê³µí•˜ê³  2ì˜ ê³¼ì •ì€ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤ë©´ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ë§‰ê¸° ìœ„í•´ì„œëŠ” 1ë²ˆê³¼ 2ë²ˆ ê³¼ì •ì„ í•˜ë‚˜ì˜ ì‘ì—… ë‹¨ìœ„ë¡œ ë¬¶ì–´ ë‘ ì‘ì—…ì„ í•œ ë‹¨ìœ„ë¡œ ì‹¤í–‰í•˜ë©´ ëœë‹¤. ë§Œì•½ ì¤‘ê°„ì— ì‹¤íŒ¨í•œë‹¤ë©´ íŠ¸ëœì­ì…˜ì˜ ì²˜ìŒ ìƒíƒœë¡œ ëª¨ë‘ ë˜ëŒë¦¬ë©´ ëœë‹¤.
>
> **íŠ¸ëœì­ì…˜ì„ ì´ìš©í•  ê²½ìš° ì¤‘ê°„ì— ì—”í‹°í‹°ì˜ í•„ë“œ ê°’ì´ ë°”ë€Œì–´ ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì œëŒ€ë¡œÂ  ëœ ê°’ ìˆ˜ì •ì„ ë³´ì¥í•´ì¤€ë‹¤.**
>

---

### **ì–´ë ¤ì› ë˜ ì - ë©”ëª¨ ì‚¬í•­**

- ErrorÂ creatingÂ beanÂ withÂ nameÂ 'dataSourceScriptDatabaseInitializer'Â definedÂ inÂ classÂ pathÂ resourceÂ [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:Â FailedÂ toÂ executeÂ SQLÂ scriptÂ statementÂ #1Â ofÂ URLÂ [file:/Users/mosuji/IdeaProjects/springboot-developer/out/production/resources/data.sql]:Â INSERTÂ INTOÂ articleÂ (title,Â content)Â VALUESÂ ('ì œëª©1',Â 'ë‚´ìš©1')
    - í•´ë‹¹ ì—ëŸ¬ ë°œìƒ : yml ì— ì•„ë˜ì˜ ë‚´ìš©ì„ ì‘ì„±í•˜ì§€ ì•Šì•„ì„œ ë°œìƒí•œ ì—ëŸ¬ì˜€ë‹¤. í•˜ì§€ë§Œ ì´ë¯¸ ì‘ì„±ë˜ì–´ìˆëŠ” ìƒíƒœì˜€ë‹¤.. ê·¸ë˜ì„œ ì•„ë˜ ë‚´ìš©ì´ ì íŒ ë¶€ë¶„ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¿”ì£¼ì—ˆë”ë‹ˆ ì œëŒ€ë¡œ ì‘ìš©í•˜ì˜€ë‹¤.

      `defer-datasource-initialization: true`




</div>
</details>