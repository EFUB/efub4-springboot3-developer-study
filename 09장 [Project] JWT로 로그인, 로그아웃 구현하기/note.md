# 6주차 (09장)

- 토큰 기반 인증이란? 

  세션기반 인증 vs 토큰기반 인증

  토큰: 서버에서 클라이언트를 구분하기 위한 유일한 값

- 토큰 기반 인증이 이뤄지는 과정
1. 클라이언트가 로그인 요청
2. 서버가 토큰 생성 후 응답
3. 클라이언트가 토큰 저장
4. 클라이언트가 이후 요청은 토큰 정보와 함께 보냄
5. 서버에서 토큰 검증
6. 서버가 응답

- 토큰 기반 인증의 특징
1. 무상태성: 서버는 클라이언트의 인증 정보를 저장 / 유지 하지 않아도 되기 때문에, stateless 일 수 있다
2. 확장성: state 관리에 신경 쓸 필요가 없으므로, 서버의 확장이 쉽다
3. 무결성: 토큰이 발급된 이후에는 토큰을 변경하는 것은 허용되지 않으므로, 토큰의 무결성이 보장된다.

- JWT
1. JWT 토큰의 구조: 헤더 + 내용 + 설명
    1. 헤더: 토큰의 타입(JWT) + 해싱알고리즘 정보
    2. 내용: 내용의 단위는 “클레임”
        1. 등록된 클레임: 토큰에 대한 정보 (ex: 발급자, 제목)
        2. 공개 클레임: 주로 URI
        3. 비공개 클레임: i, ii 제외 나머지 (클라이언트와 서버간의 통신에 사용)
    3. 서명: 토큰이 조작 / 변경 되지 않았음을 확인하는 용도
2. 토큰 유효기간 - 토큰의 보안과 관련
    
    리프레시 토큰 (≠ 액세스토큰) : 액세스 토큰의 발급을 위해 사용되는 토큰
    
    액세스 토큰의 유효기간은 짧게 & 리프레시 토큰은 길게 설정하는 방법을 통해, 사용의 불편함은 줄이면서 토큰의 안전성을 보장한다.
